process.on("exit",()=>{console.log()});const fs=require("fs-extra"),path=require("path"),chalk=require("chalk"),inquirer=require("inquirer"),{logWithSpinner,stopSpinner}=require("./util/spinner"),{log,error}=require("./util/logger"),{clearConsole}=require("./util/clearConsole"),{exit}=require("./util/exit"),Creator=require("./Creator");async function create(a,b){const c=b.cwd||process.cwd(),d=path.resolve(c,"./src/pages/",a||"./src/pages");if(fs.existsSync(d))if(b.force)await fs.remove(d);else{await clearConsole();const{action:b}=await inquirer.prompt([{name:"action",type:"list",message:`页面 ${chalk.cyan(a)} 已经存在. 选择一个操作:`,choices:[{name:"\u8986\u76D6\u5B89\u88C5",value:"overwrite"},{name:"\u53D6\u6D88\u521B\u5EFA",value:!1}]}]);b?"overwrite"===b&&(logWithSpinner("\uD83D\uDDC3","\u6B63\u5728\u79FB\u9664\u9875\u9762 ${chalk.cyan(pageName)}..."),await fs.remove(d),stopSpinner()):(await clearConsole(),log("\uD83D\uDC4B Good Bye."),log(),exit(0))}const e=new Creator(a,d);await e.create(b)}module.exports=(...a)=>create(...a).catch(()=>{stopSpinner(!1),process.exit(0)});